$env:JAVA_HOME = "C:\Program Files\Java\jdk-17.0.3.1"; $env:Path = "$env:JAVA_HOME\bin;$env:Path"; mvn -q -DskipTests package -f backend/pom.xml 
powershell -ExecutionPolicy Bypass -File run_backend.ps1 

npm start 

$env:JAVA_HOME='D:\Java\java17'; $env:Path="$env:JAVA_HOME\bin;$env:Path"; java -jar target\qms-backend-1.0.0.jar 

docker save -o qms-system-images.tar qms-system-frontend:latest qms-system-backend:latest mysql:8.0

MySQL localhost:3306 ï¼ˆæ•°æ®åº“ qms ï¼Œç”¨æˆ· qms ï¼Œå¯†ç  qms123 ï¼Œroot å¯†ç  Root@12345 ï¼‰
ç™»å½•ç”¨æˆ·å  admin', 'Admin@123'

âœ… é˜¶æ®µä¸€ï¼šæ–°æœºå™¨å‡†å¤‡ Docker
1ï¸âƒ£ ç¡®è®¤æ–°æœºå™¨å·²å®‰è£… Docker

åœ¨æ–°æœºå™¨ç»ˆç«¯æ‰§è¡Œï¼š

docker -v


å¦‚æœæ²¡æœ‰ï¼š

Windows / Macï¼šå®‰è£… Docker Desktop

Linuxï¼šå®‰è£… docker + docker-compose-plugin

âœ… é˜¶æ®µäºŒï¼šå¯¼å…¥ä½ åˆšåˆšæ‰“åŒ…çš„é•œåƒ

å‡è®¾ä½ å·²ç»æŠŠæ–‡ä»¶æ‹·åˆ°æ–°æœºå™¨ï¼Œæ¯”å¦‚ï¼š

qms-system-images.tar

2ï¸âƒ£ åŠ è½½é•œåƒ
docker load -i qms-system-images.tar


ç­‰å¾…å®Œæˆã€‚

3ï¸âƒ£ éªŒè¯é•œåƒæ˜¯å¦å­˜åœ¨
docker images


ä½ åº”è¯¥èƒ½çœ‹åˆ°ï¼š

qms-system-frontend   latest
qms-system-backend    latest
mysql                 8.0


åˆ°è¿™é‡Œ é•œåƒå·²ç»æˆåŠŸå¤åˆ¶ âœ…

âœ… é˜¶æ®µä¸‰ï¼šä¸€æ¡å‘½ä»¤è·‘å®Œæ•´ç³»ç»Ÿï¼ˆæ¨èï¼‰

âš ï¸ å¼ºçƒˆæ¨èä½ ç”¨ docker-composeï¼Œ
æ¯”å•ç‹¬ docker run ç¨³å®šã€å¥½ç»´æŠ¤ã€‚

ğŸ§© ç¬¬ä¸€æ­¥ï¼šåœ¨æ–°æœºå™¨åˆ›å»ºç›®å½•
mkdir qms-system
cd qms-system

ğŸ§© ç¬¬äºŒæ­¥ï¼šåˆ›å»º docker-compose.yml

æ–°å»ºæ–‡ä»¶ docker-compose.ymlï¼Œå†…å®¹ ç›´æ¥å¤åˆ¶ï¼š

version: "3.8"

services:
  mysql:
    image: mysql:8.0
    container_name: qms-mysql
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: 123456
      MYSQL_DATABASE: qms
      MYSQL_CHARACTER_SET_SERVER: utf8mb4
      MYSQL_COLLATION_SERVER: utf8mb4_general_ci
    ports:
      - "3306:3306"
    volumes:
      - mysql_data:/var/lib/mysql

  backend:
    image: qms-system-backend:latest
    container_name: qms-backend
    restart: always
    ports:
      - "8080:8080"
    depends_on:
      - mysql
    environment:
      SPRING_DATASOURCE_URL: jdbc:mysql://mysql:3306/qms?useSSL=false&serverTimezone=Asia/Shanghai
      SPRING_DATASOURCE_USERNAME: root
      SPRING_DATASOURCE_PASSWORD: 123456

  frontend:
    image: qms-system-frontend:latest
    container_name: qms-frontend
    restart: always
    ports:
      - "3000:80"
    depends_on:
      - backend

volumes:
  mysql_data:


ğŸ“Œ å…³é”®ç‚¹

åç«¯æ•°æ®åº“åœ°å€ï¼šmysql:3306

ä¸è¦ç”¨ localhost

MySQL æ•°æ®è‡ªåŠ¨æŒä¹…åŒ–

ğŸ§© ç¬¬ä¸‰æ­¥ï¼šå¯åŠ¨å…¨éƒ¨æœåŠ¡
docker compose up -d

ğŸ§ª ç¬¬å››æ­¥ï¼šéªŒè¯
æŸ¥çœ‹çŠ¶æ€
docker compose p

dockeræ‰“åŒ…
docker save -o qms-system-images.tar qms-system-frontend:latest qms-system-backend:latest mariadb:10.6

æ–°æœºå™¨åŠ è½½ 
docker load -i qms-system-images.tar

æ”¾å¤§é•œã€å¡å°ºã€è²æ—ç‰‡ã€å¡å°ºã€è†œåšä»ªã€é€šæ­¢è§„ã€å¡è§„ã€èºçº¹ç¯è§„ã€è‰²å¡ã€å®¢æˆ·é™åº¦æ ·ã€CCDã€X-RAYã€äºŒæ¬¡å…ƒã€ä¸‰æ¬¡å…ƒ
